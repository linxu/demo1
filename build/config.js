const log = require('electron-log');
var path = require('path');
const pkg = require('../package.json');

module.exports = {
    make_targets: {
        win32: [
            "squirrel"
        ],
        darwin: [
            "zip",
            "dmg"
        ],
        linux: [
            "deb",
            "rpm",
            "flatpak",
            "snap"
        ]
    },
    electronPackagerConfig: {
        asar: true,
        packageManager: "npm",
        icon: "./build/icons/icon",
        ignore: [
            ".idea"
        ]
    },
    electronWinstallerConfig: {
        name: pkg.name,
        loadingGif: "./build/win/install.gif",
        setupIcon: "./build/icons/icon.ico"
    },
    electronInstallerDMG: {
        background: "./build/mac/install.png",
        icon: "./build/icons/icon.icns",
        contents: [
            {
                x: 160,
                y: 160,
                type: "file",
                path: path.join(__dirname, "../out/" + pkg.name + "-darwin-x64/" + pkg.name + ".app")
            },
            {
                x: 400,
                y: 160,
                type: "link",
                path: "/Applications"
            }
        ]
    },
    electronInstallerDebian: {},
    electronInstallerRedhat: {},
    github_repository: {
        owner: pkg.author,
        name: pkg.name
    },
    windowsStoreConfig: {
        packageName: "",
        name: pkg.name
    },
    // All of the configuration options that would be in config.forge if you used the package.json method
    postMake: function (forgeConfig, outputs) {
        // outputs are the paths to files that are generated by make, like Squirrel's .exe & RELEASES
        // adapt the atom code here and return outputs
        console.log(forgeConfig);
        console.log(outputs);
        return outputs;
    }
};